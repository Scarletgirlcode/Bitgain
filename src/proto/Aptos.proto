// Copyright Â© 2017-2022 Trust Wallet.
//
// This file is part of Trust. The full Trust copyright notice, including
// terms governing use, modification, and redistribution, is contained in the
// file LICENSE at the root of the source code distribution tree.

syntax = "proto3";

package TW.Aptos.Proto;
option java_package = "wallet.core.jni.proto";

message TransferMessage {
  string to = 1;
  uint64 amount = 2;
}

message SigningInput {
  string sender = 1;
  int64 sequence_number = 2;
  oneof transaction_payload {
    TransferMessage transfer = 3;
  }
  uint64 max_gas_amount = 4;
  uint64 gas_unit_price = 5;
  uint64 expiration_timestamp_secs = 6;
  uint32 chain_id = 7;
  bytes private_key = 8;
}

message TransactionAuthenticator {
  bytes signature = 1;
  bytes public_key = 2;
}

// Transaction signing output.
message SigningOutput {
  /// The raw transaction
  bytes raw_txn = 1;

  /// Public key and signature to authenticate
  TransactionAuthenticator authenticator = 2;

  /// tx to broadcast
  bytes encoded = 3;

  // tx json format for api broadcasting
  string json = 4;
}
