syntax = "proto3";

package TW.NULS.Proto;
option java_package = "wallet.core.jni.proto";

//message TransactionInput {
    //string from_hash = 1;
    //int32 from_index = 2;
    //int64 amount = 3;
    //int64 lock_time = 4;
    //string address = 5;
//}

//message TransactionOutput {
    //string to_address = 1;
    //int64 amount = 2;
    //int64 lock_time = 3;
    //int32 index = 4;
//}

//message Transaction {
    //int32  type = 1;   
    //string from_address = 2;
    //string to_address = 3;
    //int64 amount = 4;


    /// UTF-8 encode strings
    //string remark = 5;

    //int64 timestamp = 6;

    /// Unspent input list
    //repeated TransactionInput inputs = 7;
    /// Output list
    //repeated TransactionOutput outputs = 8;
//}

message TransactionInput {
    string from_address = 1;
    int32 assets_chainid = 2;
    int32 idassets_id = 3;
    bytes idamount = 4;
    bytes nonce = 5;
    bytes locked = 6;
}

message TransactionOutput {
    string to_address = 1;
    int32 assets_chainid = 2;
    int32 idassets_id = 3;
    bytes idamount = 4;
    int32 lock_time = 5;
}

message Transaction {
    int32  type = 1;
    int32  timestamp = 2;
    bytes  tx_data = 3;

    //CoinFrom
    repeated TransactionInput inputs = 4;

    //CoinTo
    repeated TransactionOutput outputs = 5;
    string remark = 6;
    bytes tx_sig = 7;
}


message TransactionPurpose {
    bytes private_key = 1;
    string from_address = 2;
    string to_address = 3;
    bytes amount = 4;

    /// UTF-8 encode strings
    string remark = 5;

    int32 timestamp = 6;

    /// Unspent input list
    repeated TransactionInput inputs = 7;

    // If sending max amount.
    bool use_max_amount = 8;
}

message TransactionPlan {
    bytes private_key = 1;
    string from_address = 2;
    string to_address = 3;
    bytes amount = 4;

    /// UTF-8 encode strings
    string remark = 5;

    int32 timestamp = 6;
    int64 fee = 7;
    int64 change = 8;
    int64 available_amount = 9;

    /// Selected Unspent input list
    repeated TransactionInput inputs = 10;
    repeated TransactionOutput outputs = 11;
}

message SigningOutput {
    bytes encoded = 1;
}