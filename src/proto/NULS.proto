syntax = "proto3";

package TW.NULS.Proto;
option java_package = "wallet.core.jni.proto";

message TransactionInput {
    string from_address = 1;
    int32 assets_chainid = 2;
    int32 idassets_id = 3;

    //tranaction out amount (128-bit number)
    bytes idamount = 4;

    //8 bytes
    bytes nonce = 5;

    //lock status: 1 locked; 0 unlocked
    bytes locked = 6;
}

message TransactionOutput {
    string to_address = 1;
    int32 assets_chainid = 2;
    int32 idassets_id = 3;

    // tranaction amount (128-bit number)
    bytes idamount = 4;
    int32 lock_time = 5;
}

message Transaction {
    int32  type = 1;
    int32  timestamp = 2;
    bytes  tx_data = 3;

    //CoinFrom
    repeated TransactionInput inputs = 4;

    //CoinTo
    repeated TransactionOutput outputs = 5;
    string remark = 6;
    bytes tx_sig = 7;

     bytes amount = 8;
}


message TransactionPurpose {
    bytes private_key = 1;
    string from_address = 2;
    string to_address = 3;
    bytes amount = 4;

    /// UTF-8 encode strings
    string remark = 5;

    int32 timestamp = 6;

    /// Unspent input list
    repeated TransactionInput inputs = 7;

    // If sending max amount.
    bool use_max_amount = 8;
}

message TransactionPlan {
    bytes private_key = 1;
    string from_address = 2;
    string to_address = 3;
    bytes amount = 4;

    /// UTF-8 encode strings
    string remark = 5;

    int32 timestamp = 6;
    int64 fee = 7;
    int64 change = 8;
    int64 available_amount = 9;

    /// Selected Unspent input list
    repeated TransactionInput inputs = 10;
    repeated TransactionOutput outputs = 11;
}

message SigningOutput {
    bytes encoded = 1;
}